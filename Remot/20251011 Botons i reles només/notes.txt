

"C:\Program Files\Google\Chrome\Application\chrome.exe" --remote-debugging-port=9222 --user-data-dir="C:\temp\chrome-profile"




import json
import urllib.request

# Connecta't a l'API local de Chrome
data = urllib.request.urlopen("http://localhost:9222/json").read()
tabs = json.loads(data)

# Agafem la primera pestanya oberta
tab = tabs[0]
websocket_url = tab["webSocketDebuggerUrl"]

# Connectem-hi per dir-li que canviï de pàgina
from websocket import create_connection

ws = create_connection(websocket_url)
new_url = "https://www.wikipedia.org"
command = json.dumps({
    "id": 1,
    "method": "Page.navigate",
    "params": {"url": new_url}
})
ws.send(command)
ws.close()
